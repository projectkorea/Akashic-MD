# 01. 노드 개요

## 1. DOM은 JavaScript `Node` 객체의 계층화된 트리다.

-   HTML 문서를 작성할 때 HTML 콘텐츠를 다른 HTML 콘텐츠 내에 캡슐화하게 된다.
-   이를 통해 트리로 표현 가능한 계층 구조가 만들어진다.
-   브라우저는 HTML코드를 해석해서 트리 형태로 구조화된 노드들을 가지고 있는 문서(DOM)을 생성한다.
-   HTML문서가 브라우저에 의해 해석되어, 실제 문서를 나타내는 노드 객체들의 트리 구조로 변환된다.
-   **DOM의 목적은 Javascript를 사용해서 문서에 대한 스크립트 작성을 위한 프로그래밍 인터페이스를 제공하는 것이다.**
![](https://user-images.githubusercontent.com/76730867/149727521-804e2076-46ef-4d00-8f87-00ecbb9796b1.png)

- `Node` 객체는 `DOM`에서 가장 최상위에 있는 객체다.
- 모든 `DOM` 객체는 `Node` 객체를 상속 받는다.

## 2. 노드 객체 유형(nodeType)

- HTML 문서를 다룰 때 마주치게 되는 일반적인 노드 유형이다.

```html
<!DOCTYPE html>
<html lang="en">
    <body>
        <script>
            console.log(Node.ELEMENT_NODE)
            // element 노드의 숫자 코드 값인 1이 출력됨
            for (var key in Node) {
                console.log(key, Node[key]);
            }
        </script>
    </body>
</html>
```
- 모두 대문자이며 `_`로 단어를 구분한다.

|숫자코드|nodeType|인터페이스/생성자|
|:--:|:--:|:--:|
|1|`ELEMENT_NODE`|`HTML*ELEMENT`, `HTMLBodyElement`, `<body>`, `<a>`, `<p>`, `<script>`, `<style>`, `<html>`, `<h1>`|
|2|`ATTRIBUTE_NODE`|`class = "funcEdges"`|
|3|`TEXT_NODE`| `html` 문서 내의 텍스트 문자|
|9|`DOCUMENT_NODE`|`window.document`|
|10|`DOCUMENT_TYPE_NODE`| `<!DOCTYPE HTML>`|
|11|`DOCUMENT_FRAGMENT_NODE`|`document.createDocumentFragment()`|

## 3. Node 객체로 부터 상속받은 하위 노드 객체

- DOM 트리의 각 노드 객체는 `Node`로 부터 속성과 메서드를 상속받는다.
- `Node`는 Javascript 생성자 함수이기 때문에 다른 객체들 처럼 `Object.prototye`로부터 상속받는다.
- `Object` < `Node` < `Document`  < `HTMLDocument`

## 4. 노드를 다루기 위한 속성 및 메서드

- `Node`인터페이스에서 제공되는 속성 및 메서드 외에, `document`, `HTMLElement`, `HTML*Element` 인터페이스와 같은 하위 노드 인터페이스에서도 다양한 속성 및 메서드가 존재한다.

#### Node.property
- `Node.childNodes`
- `Node.firstChild`
- `Node.lastChild`
- `Node.nextSibling`
- `Node.nodeName`
- `Node.nodeType`
- `Node.nodeValue`
- `Node.parentNode`
- `Node.previousSibling`

#### Node.method()
- `Node.appendChild()`
- `Node.cloneNode()`
- `Node.compareDocumentPosition()`
- `Node.contains()`
- `Node.hasChildNodes()`
- `Node.insertBefore()`
- `Node.isEqualNode()`
- `Node.removeChild()`
- `Node.replaceChild()`

#### Document.method()
- `document.createElement`
- `document.createTextNode`

#### HTML*Element.property
- `innerHTML`
- `outerHTML`
- `textContent`
- `innerText`
- `outerText`
- `firstElementChild`
- `lastElementChild`
- `nextElemmentChild`
- `previousElementChild`
- `children`

#### HTMLElement.method()
- `insertAdjacentHTML()`

## 5. 노드의 유형과 이름 식별

- 모든 노드는 `Node`로 부터 상속받는 `nodeType` `nodeName` 속성을 가진다.

```js
document.querySelector('a').nodeType === Node.ELEMENT_NODE
// true ,<a>는 Element노드이다.
```

## 6. 노드 값 가져오기
- `nodeValue` 속성은 대부분 노드 유형에서는 `null`값을 가져온다.
- 이 속성의 용도는 `Text`와 `Comment`노드에서 실제 텍스트 문자열을 추출하는데 초점을 맞추고 있다.

```html
<a href="#">Hi</a>
```

```js
document.doctype.nodeValue // null
document.querySelector('a').nodeValue // null

document.querySelector('a').firstChild.nodeValue // Hi
```

## 7,8. Element, Text 노드 생성하기

- 브라우저는 HTML문서를 초기 로딩할 때 노드를 생성을 처리한다.
- 하지만 `DOM API`를 이용하면 HTML 로딩 이후에도 노드를 생성할 수 있다.

#### 1) 메서드로 만들기
- `createElement()`, `createTextNode()`, `createAttribute()`, `createComment()`

```js
document.createElement('div') // <div></div>
document.createTextNode('Hi') // "HI"
```

#### 2) 문자열로 만들기
##### `innerHTML`, `outerHTML`, `textContent`, `inserAdjacentHTML()`

```html
<div id="A"></div>
<div id="B"></div>
<span id="C"></span>
<div id="D"></div>
<div id="E"></div>
```

```js
document.getElementByID('A').innerHTML = '<strong>Hi</strong>'
document.getElementByID('B').outerHTML = '<div id="B" class="new">Da-ran!</div>'
document.getElementByID('C').textContent = 'dude'
document.getElementByID('D').innerText = 'Keep It!'
document.getElementByID('E').outerText = 'real!'
```
- `outer`속성은 선택한 요소에 마크업을 새로 쓴다.
```html
<div id="A"><strong>Hi</strong></div>
<div id="B" class="new">Da-ran!</div>
<span id="C">dude</span>
<div id="D">Keep It!</div> real!
```

##### `insertAdjacentHTML()`
- Element 노드에서만 작동한다. 
- 시작 태그의 앞, 뒤, 종료 태그의 앞, 뒤 태그에 노드를 삽입할 수 있다.

```html
<i id="elm"></i>
```

```js
var elm = document.getElementById('elm')

dle.insertAdjacentHTML('beforebegin','<div>')
dle.insertAdjacentHTML('afterbegin','<span>dude-</span>')
dle.insertAdjacentHTML('beforeend','<span>-are</span>')
dle.insertAdjacentHTML('afterend','</div>')
```

```html
<div><span>dude-</span><i id="elm"></i><span>-are</span></div>
```