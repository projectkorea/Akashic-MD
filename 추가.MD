

## 2. 시행착오

### 1. `<li>` 태그 랜더링

```js
return {<li></li>}
```
- `{}`로 감싼 html태그도 DOM요소로 변환된다.

```js
return {[<textarea></textarea>, <textarea></textarea>, <textarea></textarea>]}
```
- 배열 형태로 반환해도, 배열의 모든 요소가 DOM요소로 변환된다.

```js
return(
  <ul>
  {props.forEach((prop) => (
    <li>
      {prop[0]} : {prop[1]}
    </li>
  ))}
  </ul>
)
```
- `forEach`문에서 `<li>`태그를 반환하면 알아서 랜더링 되는줄 알았다.😪
- 하지만 이는 `{}`안의 자바스크립트 코드일 뿐이였다.
- `<li>`태그들을 랜더링하기 위해선, map함수로 태그를 담은 배열을 리턴해야됐다.
- **배열 형태로 반환해도, 배열의 모든 요소가 DOM요소로 랜더링되기 때문에!**

### 2. `className` 프로퍼티는 컴포넌트가 아닌 DOM태그에!

```js
<Component className ="doesn't work">
```

### 3. Create 구현하기

### 1) `array.prototype.concat`을 이용해 state 값 추가하기

```js
let _cards = this.state.cards.concat(newObj);

this.setState({
  cards: _cards,
});
```

- `state`값을 추가할 때는 `push`와 같이 원본 데이터를 변경하는 방법을 사용하지 말자.
- `concat`처럼 원본 데이터를 변경하지 않고 새로운 데이터를 생성하는 방법을 사용해야한다.
- `push` 구현 방식은 나중에 리액트 앱의 성능 개선하기에 굉장히 까다롭다. 때문에 어떻게 원본 데이터를 바꾸지 않으면서 데이터를 state에 갱신 할 것인지 잘 생각해봐야한다.
  
### 2) `Array.from()`을 이용해 state 값 추가해보기

```js
var newCards = Array.from(this.state.cards)
newCards.push(newObj)

this.setState({
  cards:newCards
})
```

- `Array.from`을 사용해서 복사한 다음, 사본에 `push`를 하고 `setState`를 호출하기 때문에 원본을 변경하지 않고 원본을 교체한다.
- 이외에도 `Object.assign()`을 이용해 객체의 내용을 바꾸지 않고 복제된 새 객체를 만들어 `setState`를 사용할 수 있다.

### 4. `cardName: e.target.name`로 써서 오류가 났다. 
- props로 받아오는 type을 잘 생각하자.

```js
 <form
        onSubmit={function (e) {
          e.preventDefault();
          let _cards = this.props.cards.concat({
            id: this.props.totalCards + 1,
            cardName: e.target.name.value,
            price: Number(e.target.price.value),
          });
          this.props.onCreate(_cards);
        }.bind(this)}
>
```

### 5. form data `destructuring`으로 받아오기

```js
const [form, setForm] = useForm({...})
const onChange = ( { target: { name, value }} ) 
=> setForm({ ...form, [name]: value });
```
- `event` 인자의 `target`을 구조분해하여 `{ target: { name, value }}`로 바로 받아왔다.
- `const name = event.target.name`
- `const value = event.target.value`
